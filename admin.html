<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Painel Admin — Honda Revemar</title>
<style>
body {font-family: Arial, sans-serif; background: #f7f7f7; padding: 20px;}
h1 {color: #c8102e;}
label {display:block;margin:12px 0 4px;}
input {width:100%; padding:8px; margin-bottom:12px; border-radius:6px; border:1px solid #ccc;}
button {padding:8px 12px; border:none; border-radius:6px; background:#c8102e; color:#fff; font-weight:700; cursor:pointer; margin-right:5px;}
.success {color:green;margin-top:10px;}
#errorLogin {color:red;margin-bottom:12px;}
.vendedorItem {margin-bottom:10px; padding:10px; background:#fff; border-radius:6px; box-shadow:0 0 5px #ccc;}
</style>
</head>
<body>

<div id="loginDiv">
  <h1>Login Admin</h1>
  <div id="errorLogin" style="display:none;">Usuário ou senha incorretos!</div>
  <label>Usuário:</label>
  <input type="text" id="loginUser" placeholder="Usuário" required>
  <label>Senha:</label>
  <input type="password" id="loginPass" placeholder="Senha" required>
  <button id="btnLogin">Entrar</button>
</div>

<div id="formDiv" style="display:none;">
  <h1>Cadastro do Vendedor</h1>
  <form id="formVendedor">
    <label>Nome do vendedor:</label>
    <input type="text" id="nome" placeholder="Lucas Honda" required>

```
<label>WhatsApp (somente números):</label>
<input type="text" id="zap" placeholder="559492781498" required>

<label>URL da foto grande (início da página):</label>
<input type="text" id="fotoGrande" placeholder="https://site.com/foto_grande.jpg" required>

<label>URL da foto bolinha “Estou online”:</label>
<input type="text" id="fotoBolinha" placeholder="https://site.com/foto_bolinha.jpg" required>

<label>CPF do vendedor:</label>
<input type="text" id="cpf" placeholder="99999999999" required>

<button type="submit">Salvar vendedor</button>
<div class="success" id="msgSucesso" style="display:none;">Vendedor salvo com sucesso!</div>
```

  </form>

  <h2 style="margin-top:30px;">Vendedores cadastrados</h2>
  <div id="listaVendedores"></div>
</div>

<script>
// Login simples
const btnLogin = document.getElementById('btnLogin');
btnLogin.addEventListener('click', () => {
  const user = document.getElementById('loginUser').value.trim();
  const pass = document.getElementById('loginPass').value.trim();
  
  if(user === 'lucasdbr15' && pass === '100%Deus'){
    document.getElementById('loginDiv').style.display = 'none';
    document.getElementById('formDiv').style.display = 'block';
    atualizarLista();
  } else {
    document.getElementById('errorLogin').style.display = 'block';
  }
});

// salvar vendedor
const form = document.getElementById('formVendedor');
form.addEventListener('submit', (e) => {
  e.preventDefault();

  const nome = document.getElementById('nome').value.trim();
  const zap = document.getElementById('zap').value.trim();
  const fotoGrande = document.getElementById('fotoGrande').value.trim();
  const fotoBolinha = document.getElementById('fotoBolinha').value.trim();
  const cpf = document.getElementById('cpf').value.trim();

  if(!nome || !zap || !fotoGrande || !fotoBolinha || !cpf){
    alert("Preencha todos os campos!");
    return;
  }

  let VENDEDORES = JSON.parse(localStorage.getItem('VendedoresSiteHonda') || "{}");
  // Gera link automático do vendedor
  const linkVendedor = `${window.location.origin}/site_vendedor.html?vendedor=${cpf}`;
  VENDEDORES[cpf] = {nome, zap, fotoGrande, fotoBolinha, cpf, linkVendedor};
  localStorage.setItem('VendedoresSiteHonda', JSON.stringify(VENDEDORES));

  document.getElementById('msgSucesso').style.display = 'block';
  setTimeout(()=>document.getElementById('msgSucesso').style.display='none', 3000);

  form.reset();
  atualizarLista();
});

// atualizar lista de vendedores
function atualizarLista() {
  let VENDEDORES = JSON.parse(localStorage.getItem('VendedoresSiteHonda') || "{}");
  let listaDiv = document.getElementById('listaVendedores');
  listaDiv.innerHTML = '';
  for(let cpf in VENDEDORES){
    let v = VENDEDORES[cpf];
    let div = document.createElement('div');
    div.className = 'vendedorItem';
    div.innerHTML = `
      <strong>${v.nome}</strong> | WhatsApp: ${v.zap} <br>
      Link do site: <a href="${v.linkVendedor}" target="_blank">${v.linkVendedor}</a><br>
      <button onclick="excluirVendedor('${cpf}')">Excluir vendedor</button>
      <button onclick="excluirSite('${cpf}')">Excluir site do vendedor</button>
    `;
    listaDiv.appendChild(div);
  }
}

// excluir vendedor do cadastro
function excluirVendedor(cpf) {
  let VENDEDORES = JSON.parse(localStorage.getItem('VendedoresSiteHonda') || "{}");
  if(confirm(`Deseja realmente excluir ${VENDEDORES[cpf].nome}?`)){
    delete VENDEDORES[cpf];
    localStorage.setItem('VendedoresSiteHonda', JSON.stringify(VENDEDORES));
    atualizarLista();
  }
}

// excluir site do vendedor (apagar dados e fotos)
function excluirSite(cpf) {
  let VENDEDORES = JSON.parse(localStorage.getItem('VendedoresSiteHonda') || "{}");
  if(confirm(`Deseja realmente excluir o site do vendedor ${VENDEDORES[cpf].nome}?`)){
    // Limpa fotos e dados, mas mantém cadastro
    VENDEDORES[cpf].fotoGrande = '';
    VENDEDORES[cpf].fotoBolinha = '';
    VENDEDORES[cpf].linkVendedor = '';
    localStorage.setItem('VendedoresSiteHonda', JSON.stringify(VENDEDORES));
    alert('Site do vendedor excluído!');
    atualizarLista();
  }
}
</script>

</body>
</html>
