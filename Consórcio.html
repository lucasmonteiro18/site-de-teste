<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Simular Consórcio</title>

<style>
body{margin:0;font-family:Arial,sans-serif;background:#f2f2f7;padding:20px}
.card{background:#fff;padding:18px;border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.1);margin-bottom:20px}
h2{margin:0 0 10px}
label{font-weight:600;margin-top:12px;display:block}
input,select{width:100%;padding:12px;border-radius:10px;border:1px solid #ccc;margin-top:4px;font-size:16px}
button{width:100%;padding:14px;background:#c8102e;border:none;margin-top:20px;border-radius:12px;font-size:18px;font-weight:700;color:#fff}
.carousel{width:100%;height:220px;overflow:hidden;border-radius:12px;margin-bottom:15px}
.carousel-track{display:flex;animation:scroll 15s linear infinite}
.carousel-track img{width:100%;height:220px;object-fit:cover}
@keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-66%)}}
.moto-name{text-align:center;font-weight:800;color:#c8102e}
small{color:#777}
</style>
</head>

<body>

<div class="card">
  <h2 id="tituloMoto">Carregando...</h2>
  <div class="carousel">
    <div class="carousel-track" id="carouselTrack"></div>
  </div>
</div>

<div class="card">
  <h2>Simulação de Consórcio</h2>
  <p class="moto-name" id="motoEscolhida"></p>

  <form id="consForm">
    <label>Nome completo *</label>
    <input name="nome" required>

    <label>CPF *</label>
    <input name="cpf" required>

    <label>Plano de parcelas *</label>
    <select name="plano" id="planoSelect" required></select>

    <label>Tem pressa para contemplar? *</label>
    <select name="pressa" required>
      <option value="">Selecione</option>
      <option>Sim</option>
      <option>Não</option>
    </select>

    <label>Valor de parcela ideal (R$) *</label>
    <input type="number" name="parcelaIdeal" placeholder="Ex: 450" required>

    <input type="hidden" name="moto" id="motoInput">
    <button>Enviar no WhatsApp</button>
  </form>
</div>

<script>
const motos = [
{
  id:'BIZ125ES',
  nome:'BIZ 125 ES',
  imgs:[
    'https://www.honda.com.br/motos/sites/hda/files/2024-08/nova-carenagem-honda-biz-125-es_1560x624.webp',
    'https://www.honda.com.br/motos/sites/hda/files/2024-08/novo-grafismo-honda-biz-125-es_1560x624.webp',
    'https://www.honda.com.br/motos/sites/hda/files/2024-08/novo-painel-honda-biz-125-es_1560x624_fundo%20branco.webp'
  ],
  parcelas:{36:550.10,48:417.55,60:339.00,80:261.73}
},

{
  id:'CG160FAN',
  nome:'CG 160 FAN',
  imgs:[
    'https://www.honda.com.br/motos/sites/hda/files/2025-08/visao-frontal-da-lateral-direita-da-honda-cg-160-fan.webp',
    'https://www.honda.com.br/motos/sites/hda/files/2025-08/farol-da-moto-honda-cg-160-fan-.webp',
    'https://www.honda.com.br/motos/sites/hda/files/2025-08/painel-da-moto-honda-cg-160-fan.webp'
  ]
}
];

const params = new URLSearchParams(location.search);
const moto = motos.find(m => m.id === params.get('moto')) || motos[0];

tituloMoto.innerText = moto.nome;
motoEscolhida.innerText = moto.nome;
motoInput.value = moto.nome;

/* CAROUSEL */
carouselTrack.innerHTML = moto.imgs.map(img => `<img src="${img}">`).join('');

/* PLANOS */
const planoSelect = document.getElementById('planoSelect');
planoSelect.innerHTML = '';

if(moto.parcelas){
  Object.entries(moto.parcelas).forEach(([p,v])=>{
    const opt=document.createElement('option');
    opt.value=p;
    opt.textContent=`${p}x de R$ ${v.toFixed(2)}`;
    planoSelect.appendChild(opt);
  });
}else{
  const opt=document.createElement('option');
  opt.value='A combinar';
  opt.textContent='Planos a combinar';
  planoSelect.appendChild(opt);
}

/* WHATSAPP */
consForm.addEventListener('submit',e=>{
  e.preventDefault();
  const d=Object.fromEntries(new FormData(consForm));
  const msg=
`*CONSÓRCIO HONDA*
Moto: ${d.moto}
Nome: ${d.nome}
CPF: ${d.cpf}
Plano: ${d.plano}
Parcela ideal: R$ ${d.parcelaIdeal}
Tem pressa: ${d.pressa}`;
  location.href=`https://wa.me/5594992781498?text=${encodeURIComponent(msg)}`;
});
</script>

</body>
</html>
