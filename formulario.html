<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Simulação — Honda Revemar</title>

<style>
body{
  font-family: Arial, sans-serif;
  margin:0;
  padding:16px;
  background:#f5f5f5;
}
.container{
  max-width:500px;
  margin:auto;
  background:white;
  padding:20px;
  border-radius:12px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
}
h2{
  text-align:center;
  margin-bottom:20px;
  color:#c00;
}
label{
  display:block;
  margin-top:12px;
  font-size:14px;
  font-weight:600;
}
input, select{
  width:100%;
  padding:10px;
  border:1px solid #ccc;
  border-radius:6px;
  margin-top:4px;
  font-size:15px;
}
button{
  width:100%;
  margin-top:20px;
  padding:14px;
  background:#c00;
  border:0;
  color:white;
  font-size:16px;
  border-radius:8px;
  font-weight:bold;
}
.oculto{display:none;}
</style>

</head>
<body>

<div class="container">

  <h2 id="titulo"></h2>

  <!-- FORM FINANCIAMENTO -->
  <form id="formFin" class="oculto">
    <label>Nome completo *</label>
    <input name="nome" required>

    <label>CPF *</label>
    <input name="cpf" required placeholder="000.000.000-00">

    <label>Data de nascimento *</label>
    <input name="nascimento" type="date" required>

    <label>WhatsApp *</label>
    <input name="whatsapp" required placeholder="(99) 99999-9999">

    <label>Tipo de renda *</label>
    <select name="trabalho" required>
      <option disabled selected>Selecione...</option>
      <option value="Assalariado">Assalariado</option>
      <option value="Autônomo">Autônomo</option>
    </select>

    <label>Renda mensal (R$) *</label>
    <input name="renda" type="number" min="0" required>

    <label>Possui habilitação? *</label>
    <select name="habilitacao" required>
      <option disabled selected>Selecione...</option>
      <option>Sim</option>
      <option>Não</option>
    </select>

    <label>Valor de entrada (R$)</label>
    <input name="entrada" type="number" min="0">

    <input type="hidden" name="moto">

    <button type="submit">Enviar Simulação</button>
  </form>


  <!-- FORM CONSÓRCIO -->
  <form id="formCons" class="oculto">
    <label>Nome completo *</label>
    <input name="nome" required>

    <label>CPF *</label>
    <input name="cpf" required placeholder="000.000.000-00">

    <label>E-mail *</label>
    <input name="email" type="email" required>

    <label>Prazo desejado *</label>
    <select name="prazo" required>
      <option disabled selected>Selecione...</option>
      <option>12 meses</option>
      <option>18 meses</option>
      <option>24 meses</option>
      <option>36 meses</option>
      <option>48 meses</option>
      <option>60 meses</option>
      <option>80 meses</option>
    </select>

    <input type="hidden" name="moto">

    <button type="submit">Enviar Simulação</button>
  </form>

</div>

<script>
// Ler parâmetros da URL
const params = new URLSearchParams(window.location.search);
const tipo = params.get("tipo");
const moto = params.get("moto");

document.querySelectorAll("input[name='moto']").forEach(i=>{
  i.value = moto;
});

// Ajusta título
const titulo = document.getElementById("titulo");

if(tipo === "fin"){
  document.getElementById("formFin").classList.remove("oculto");
  titulo.innerText = "Simular Financiamento — " + moto;
}

if(tipo === "cons"){
  document.getElementById("formCons").classList.remove("oculto");
  titulo.innerText = "Simular Consórcio — " + moto;
}

// WhatsApp
function enviarZap(msg){
  window.open(`https://wa.me/55944992781498?text=${encodeURIComponent(msg)}`, "_blank");
}

// Financiamento
document.getElementById("formFin").onsubmit = e=>{
  e.preventDefault();
  const d = Object.fromEntries(new FormData(e.target));

  const msg = `
Financiamento — ${d.moto}
Nome: ${d.nome}
CPF: ${d.cpf}
Nascimento: ${d.nascimento}
WhatsApp: ${d.whatsapp}
Renda: ${d.renda}
Habilitação: ${d.habilitacao}
Entrada: ${d.entrada || "0"}
  `;
  enviarZap(msg);
};

// Consórcio
document.getElementById("formCons").onsubmit = e=>{
  e.preventDefault();
  const d = Object.fromEntries(new FormData(e.target));

  const msg = `
Consórcio — ${d.moto}
Nome: ${d.nome}
CPF: ${d.cpf}
Email: ${d.email}
Prazo: ${d.prazo}
  `;
  enviarZap(msg);
};
</script>

</body>
</html>
